# Twelve - 상세 게임 기획서

## 1. 게임 아이덴티티

### 1.1 핵심 경험
플레이어는 제한된 공간에서 캐릭터들을 전략적으로 배치하고, 시너지를 만들어내며, 끊임없이 밀려오는 적들을 막아내는 긴장감 넘치는 방어전을 경험합니다.

### 1.2 차별화 요소
- **스택 시스템**: 동일 캐릭터를 겹쳐서 배치하면 강력해지지만 다양성을 포기해야 하는 딜레마
- **양방향 전투**: 플레이어와 AI가 동시에 서로를 공격하는 실시간 공성전
- **동적 경로 선택**: 캐릭터 배치 위치에 따라 자동으로 결정되는 이동 경로

## 2. 상세 게임 메커니즘

### 2.1 타일 시스템 심화

#### 2.1.1 타일 종류별 특성
```
TileType {
    Placeable,      // 일반 배치 타일
    PlaceTile,      // 강화된 배치 타일 (+10% 공격력)
    WalkableLeft,   // 좌측 경로 전용
    WalkableCenter, // 중앙 경로 전용
    WalkableRight,  // 우측 경로 전용
    JumpPoint,      // 지역 이동 점프 포인트
    Buff,           // 버프 타일 (+20% 공격속도)
    Debuff,         // 디버프 타일 (-30% 이동속도)
    Teleport,       // 순간이동 타일
    Trap            // 함정 타일 (초당 50 데미지)
}
```

#### 2.1.2 타일 상호작용
- **인접 보너스**: 같은 종족 캐릭터가 인접 타일에 있으면 방어력 +5%
- **대각선 시너지**: 대각선 타일의 캐릭터와 속성이 같으면 크리티컬 확률 +10%
- **라인 보너스**: 같은 가로/세로 라인에 3개 이상 배치 시 해당 라인 공격력 +15%

### 2.2 스택 시스템 상세

#### 2.2.1 스택 레벨별 효과
| 스택 수 | 크기 | 공격력 | 공격속도 | 특수 효과 |
|---------|------|---------|----------|-----------|
| 1개 | 100% | 100% | 100% | 없음 |
| 2개 | 80% | 115% | 110% | 5% 흡혈 |
| 3개 | 60% | 130% | 120% | 10% 흡혈 + 관통 공격 |

#### 2.2.2 스택 제한 규칙
- 동일 캐릭터 ID (이름 + 별등급) 필요
- 레벨 차이 5 이내만 스택 가능
- 장비는 가장 높은 레벨 캐릭터 것만 적용
- 스택 해제 시 경험치는 균등 분배

### 2.3 전투 공식

#### 2.3.1 데미지 계산
```
최종 데미지 = (기본 공격력 × 스택 보너스 × 종족 보너스 × 버프) 
            - (적 방어력 × 방어 계수)
            × (1 + 크리티컬 여부 × 크리티컬 배율)
```

#### 2.3.2 명중률 계산
```
명중률 = 90% + (공격자 레벨 - 방어자 레벨) × 2%
최소 명중률: 50%
최대 명중률: 100%
```

#### 2.3.3 공격 우선순위
1. 가장 가까운 적
2. 현재 HP가 가장 낮은 적
3. 공격력이 가장 높은 적
4. 가장 최근에 소환된 적

## 3. 캐릭터 상세 설계

### 3.1 종족 시너지 시스템

#### 3.1.1 종족별 특성
| 종족 | 2개 효과 | 4개 효과 | 6개 효과 |
|------|----------|----------|----------|
| Human | 회복력 +20% | 회복력 +40%, 부활 확률 10% | 회복력 +60%, 부활 확률 25%, 광역 힐 |
| Elf | 회피율 +15% | 회피율 +30%, 공격속도 +20% | 회피율 +45%, 공격속도 +40%, 분신술 |
| Orc | 체력 +200 | 체력 +500, 피해 감소 15% | 체력 +1000, 피해 감소 30%, 광폭화 |
| Undead | 흡혈 10% | 흡혈 20%, 시체 폭발 | 흡혈 30%, 시체 폭발, 역병 살포 |
| Dragon | 화염 데미지 +50 | 화염 데미지 +150, 용의 숨결 | 화염 데미지 +300, 용의 숨결, 용의 공포 |
| Demon | 치명타 확률 +15% | 치명타 확률 +30%, 치명타 피해 +50% | 치명타 확률 +45%, 치명타 피해 +100%, 악마화 |

#### 3.1.2 종족 상성
```
Human → Undead (150% 데미지)
Undead → Elf (150% 데미지)
Elf → Orc (150% 데미지)
Orc → Human (150% 데미지)
Dragon ↔ Demon (서로 120% 데미지)
```

### 3.2 클래스 역할 정의

#### 3.2.1 전사 (Warrior)
- **기본 역할**: 전방 탱킹 + 근접 딜
- **특수 능력**: 
  - 3초마다 방어 태세 (피해 50% 감소, 1초)
  - 체력 30% 이하 시 버서크 (공격력 200%, 방어력 50%)
- **시너지**: 궁수 보호 시 궁수 공격속도 +20%

#### 3.2.2 궁수 (Archer)
- **기본 역할**: 후방 원거리 딜
- **특수 능력**:
  - 10% 확률로 트리플 샷
  - 같은 대상 3회 공격 시 약점 노출 (받는 피해 +30%)
- **시너지**: 마법사와 인접 시 관통 화살 발사

#### 3.2.3 마법사 (Mage)
- **기본 역할**: 광역 마법 공격
- **특수 능력**:
  - 5초마다 메테오 (3x3 범위, 300% 데미지)
  - 킬 시 마나 폭발 (주변 적 스턴 1초)
- **시너지**: 암살자 옆에 있으면 암살자 은신 쿨다운 -50%

#### 3.2.4 암살자 (Assassin)
- **기본 역할**: 단일 대상 버스트
- **특수 능력**:
  - 전투 시작 시 은신 (2초간 무적 + 첫 공격 500% 데미지)
  - 뒤에서 공격 시 치명타 확률 +50%
- **시너지**: 탱커 뒤에 있으면 공격력 +40%

#### 3.2.5 탱커 (Tank)
- **기본 역할**: 아군 보호 + 어그로
- **특수 능력**:
  - 주변 아군이 받는 피해의 30% 대신 받기
  - 3회 피격 시 보호막 생성 (최대 체력의 50%)
- **시너지**: 서포터와 함께 있으면 CC 면역

#### 3.2.6 서포터 (Support)
- **기본 역할**: 아군 강화 + 적 약화
- **특수 능력**:
  - 가장 체력이 낮은 아군 지속 회복
  - 죽은 아군 1회 부활 (50% 체력)
- **시너지**: 같은 종족 2명 이상 버프 시 버프 효과 2배

### 3.3 캐릭터 성장 시스템

#### 3.3.1 레벨업 스탯 성장
```
레벨당 성장치 = 기본 성장치 × (1 + 별등급 × 0.1)

예시 (전사 1레벨 → 2레벨):
- 1성: HP +100, ATK +10
- 2성: HP +110, ATK +11  
- 3성: HP +120, ATK +12
```

#### 3.3.2 각성 시스템
- **조건**: 최대 레벨(60) + 동일 캐릭터 5개 희생
- **효과**: 
  - 레벨 상한 +20 (최대 80)
  - 새로운 패시브 스킬 해금
  - 외형 변경 (각성 이펙트)

## 4. 웨이브 & 몬스터 설계

### 4.1 웨이브 난이도 곡선

#### 4.1.1 몬스터 스폰 공식
```
웨이브별 몬스터 수 = 5 + (웨이브 번호 × 2)
몬스터 레벨 = 플레이어 평균 레벨 + (웨이브 번호 ÷ 2)
엘리트 몬스터 확률 = 10% + (웨이브 번호 × 2%)
```

#### 4.1.2 웨이브 특성
| 웨이브 | 특성 | 특수 몬스터 |
|--------|------|-------------|
| 1-5 | 기본 | 일반 고블린 |
| 6-10 | 속도 증가 | 스피드 러너 |
| 11-15 | 분열 | 분열 슬라임 |
| 16-19 | 혼합 | 모든 타입 |
| 20 | 보스 | 챕터 보스 |

### 4.2 특수 몬스터 타입

#### 4.2.1 일반 몬스터
- **고블린**: 빠르고 약함 (속도 150%, 체력 50%)
- **오크**: 느리고 강함 (속도 70%, 체력 200%)
- **스켈레톤**: 죽어도 1회 부활 (30% 체력)

#### 4.2.2 엘리트 몬스터
- **중장갑 나이트**: 물리 피해 80% 감소
- **마법 저항 골렘**: 마법 피해 80% 감소
- **재생 트롤**: 초당 5% 체력 회복

#### 4.2.3 보스 몬스터
- **패턴 1**: 체력 75% - 전체 스턴 (2초)
- **패턴 2**: 체력 50% - 무적 보호막 + 소환
- **패턴 3**: 체력 25% - 광폭화 (속도, 공격력 200%)

## 5. 성(Castle) 전투 시스템

### 5.1 성 업그레이드
| 레벨 | 필요 골드 | HP 증가 | 공격력 | 특수 능력 |
|------|-----------|---------|---------|-----------|
| 1 | - | 500/1000 | 20/50 | 기본 공격 |
| 2 | 5,000 | +200 | +10 | 2연속 공격 |
| 3 | 15,000 | +300 | +15 | 범위 공격 추가 |
| 4 | 30,000 | +500 | +20 | 보호막 생성 |
| 5 | 50,000 | +1000 | +30 | 즉사 공격 (5% 확률) |

### 5.2 성 스킬
- **수호의 함성**: 주변 아군 방어력 +50% (10초)
- **포격**: 무작위 지역 폭격 (500 데미지 × 5)
- **성벽 수리**: 초당 2% 체력 회복 (5초)

## 6. AI 시스템 상세

### 6.1 AI 의사결정 트리
```
1. 위협 평가
   ├─ 적 캐릭터 수 > 아군 캐릭터 수 × 1.5 → 방어 모드
   ├─ 성 체력 < 30% → 긴급 방어 모드
   └─ 그 외 → 일반 모드

2. 배치 결정
   ├─ 방어 모드 → 탱커/서포터 우선
   ├─ 공격 모드 → 딜러/암살자 우선
   └─ 균형 모드 → 시너지 우선

3. 위치 선정
   ├─ 스택 가능 확인 → 기존 캐릭터 위치
   ├─ 시너지 확인 → 시너지 가능 위치
   └─ 전략적 위치 → 라인별 분산
```

### 6.2 AI 학습 시스템
- **승률 기록**: 각 캐릭터 조합의 승률 추적
- **메타 분석**: 플레이어 선호 전략 파악
- **카운터 전략**: 자주 사용되는 조합에 대한 카운터 개발

## 7. 경제 시스템

### 7.1 인플레이션 방지
- **골드 싱크**:
  - 캐릭터 강화 비용: 레벨^2 × 100
  - 장비 강화 비용: 강화 레벨^3 × 500
  - 상점 리롤: 100 → 200 → 400 (2배씩 증가)

### 7.2 일일 수입 한계
- **무과금**: 약 50,000 골드
- **월정액**: 약 100,000 골드
- **VIP 최고 등급**: 약 200,000 골드

## 8. 이벤트 시스템

### 8.1 정기 이벤트
- **월요일**: 골드 2배
- **화요일**: 경험치 2배
- **수요일**: 드롭률 2배
- **목요일**: 강화 성공률 +10%
- **금요일**: PvP 포인트 2배
- **주말**: 모든 보너스 1.5배

### 8.2 시즌 이벤트
- **봄**: 벚꽃 이벤트 (핑크 테마 캐릭터)
- **여름**: 해변 이벤트 (수영복 스킨)
- **가을**: 수확 이벤트 (자원 보너스)
- **겨울**: 눈꽃 이벤트 (얼음 속성 강화)

## 9. 소셜 기능

### 9.1 길드 시스템
- **길드 레벨**: 1-50
- **길드 스킬**: 멤버 전체 버프
- **길드 레이드**: 주간 협동 보스전
- **길드 전쟁**: 주말 길드 대항전

### 9.2 친구 시스템
- **용병 지원**: 친구 캐릭터 1개 대여
- **선물 교환**: 일일 우정 포인트
- **친선전**: 보상 없는 연습 매치

## 10. 기술적 최적화

### 10.1 성능 최적화
- **오브젝트 풀링**: 총알, 이펙트, 데미지 텍스트
- **LOD 시스템**: 거리별 모델 디테일 조정
- **컬링**: 화면 밖 오브젝트 렌더링 중지

### 10.2 네트워크 최적화
- **델타 압축**: 변경된 데이터만 전송
- **예측 시뮬레이션**: 클라이언트 측 예측
- **재연결 시스템**: 끊김 시 자동 재연결

---

*본 문서는 개발 진행에 따라 지속적으로 업데이트됩니다.*